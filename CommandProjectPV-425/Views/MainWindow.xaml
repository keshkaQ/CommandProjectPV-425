<Window
    x:Class="CommandProjectPV_425.Views.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:CommandProjectPV_425.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Benchmark - Измерение производительности"
    Width="1300"
    Height="700"
    mc:Ignorable="d">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <Label
            Grid.Row="0"
            Margin="0,0,0,20"
            HorizontalAlignment="Center"
            Content="Измерение производительности с помощью Benchmark"
            FontSize="16"
            FontWeight="Bold" />

        <GroupBox
            Grid.Row="1"
            Padding="10"
            Header="Параметры тестирования">
            <StackPanel Orientation="Vertical">
                <StackPanel Margin="0,0,0,10" Orientation="Horizontal">
                    <TextBlock VerticalAlignment="Center" Text="Тип задачи:" />
                    <ComboBox
                        x:Name="TaskTypeComboBox"
                        Width="200"
                        Margin="5"
                        SelectedIndex="0">
                        можно  подтягивать из бд
                        <ComboBoxItem Content="Count Numbers Above Average" />
                        <ComboBoxItem Content="Divisible Three or Five" />
                        <ComboBoxItem Content="Find Prime Numbers" />
                        <ComboBoxItem Content="Maximum Of Non Extreme Elements" />
                    </ComboBox>

                    <TextBlock
                        Margin="20,0,5,0"
                        VerticalAlignment="Center"
                        Text="Размер данных:" />
                    <ComboBox
                        x:Name="SizeComboBox"
                        Width="120"
                        Margin="5"
                        SelectedIndex="2">
                        <ComboBoxItem Content="10,000" />
                        <ComboBoxItem Content="100,000" />
                        <ComboBoxItem Content="1,000,000" />
                        <ComboBoxItem Content="5,000,000" />
                    </ComboBox>
                </StackPanel>

                <StackPanel Orientation="Horizontal">
                    <ProgressBar
                        x:Name="ProgressBar"
                        Width="200"
                        Height="10"
                        Margin="5"
                        Maximum="100" />

                    <Button
                        x:Name="RunBenchmarkBtn"
                        Margin="5"
                        Background="Green"
                        Click="RunBenchmarkBtn_Click"
                        Content="Запустить тесты"
                        Foreground="White" />
                    <Button
                        x:Name="ShowChartsBtn"
                        Margin="5"
                        Background="#FF8A2BE2"
                        Click="ShowChartsBtn_Click"
                        Content="Показать графики"
                        Foreground="White" />
                    <Button
                        x:Name="SaveToDbBtn"
                        Margin="5"
                        Background="#FF1E90FF"
                        Click="SaveToDbBtn_Click"
                        Content="Сохранить в БД"
                        Foreground="White" />
                    <Button
                        x:Name="ClearResultsBtn"
                        Margin="5"
                        Background="#FFDC143C"
                        Click="ClearResultsBtn_Click"
                        Content="Очистить данные"
                        Foreground="White" />
                </StackPanel>
            </StackPanel>
        </GroupBox>

        <GroupBox
            Grid.Row="2"
            Margin="0,10,0,0"
            Header="Результаты тестирования">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <TextBlock
                    x:Name="StatusText"
                    Grid.Row="0"
                    Margin="5"
                    FontStyle="Italic"
                    Text="Готов к тестированию..." />

                <DataGrid
                    x:Name="ResultsDataGrid"
                    Grid.Row="1"
                    Margin="5"
                    AutoGenerateColumns="False"
                    IsReadOnly="True"
                    ScrollViewer.VerticalScrollBarVisibility="Auto">
                    <DataGrid.Columns>
                        <DataGridTextColumn
                            Width="1.5*"
                            Binding="{Binding TaskType}"
                            Header="Тип задачи" />
                        <DataGridTextColumn
                            Width="*"
                            Binding="{Binding DataSize}"
                            Header="Размер данных" />
                        <DataGridTextColumn
                            Width="2*"
                            Binding="{Binding MethodName}"
                            Header="Метод" />
                        <DataGridTextColumn
                            Width="*"
                            Binding="{Binding ExecutionTime}"
                            Header="Время (ms)" />
                        <DataGridTextColumn
                            Width="*"
                            Binding="{Binding MemoryUsed}"
                            Header="Память (MB)" />
                        <DataGridTextColumn
                            Width="*"
                            Binding="{Binding Speedup}"
                            Header="Ускорение" />
                        <DataGridTextColumn
                            Width="*"
                            Binding="{Binding Result}"
                            Header="Результат" />
                        <DataGridTextColumn
                            Width="*"
                            Binding="{Binding StdDev}"
                            Header="Станд. отклонение" />
                        <DataGridTextColumn
                            Width="1.5*"
                            Binding="{Binding Timestamp, StringFormat='dd.MM.yyyy HH:mm'}"
                            Header="Время теста" />
                        <DataGridTextColumn
                            Width="2*"
                            Binding="{Binding Error}"
                            Header="Ошибка" />
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </GroupBox>
    </Grid>
</Window>